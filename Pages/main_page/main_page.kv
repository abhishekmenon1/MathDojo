<MainPage>:
    add : add
    pic : mainpic
    card: card
    pipup : pipup
    swipeset: swipeset
    addition_score_input :   addition_score_input
    addition_streak_input : addition_streak_input
    addition_time_input : addition_time_input
    subtraction_score_input : subtraction_score_input
    subtraction_streak_input : subtraction_streak_input
    subtraction_time_input : subtraction_time_input
    combined_score_input : combined_score_input
    combined_streak_input : combined_streak_input
    combined_time_input : combined_time_input
    percentage_score_input : percentage_score_input
    percentage_streak_input : percentage_streak_input
    percentage_time_input : percentage_time_input
    setting : setting
    the_addition_label : the_addition_label
    back_image : back_image
    monk_img: monk_img
    percent_text_input : percent_text_input
    no_of_games : no_of_games
    update_button : update_button
    card_two  :card_two
    main_label : main_label
    the_swipe_button : the_swipe_button
    rule_card : rule_card
    icon_1 : icon_1
    icon_1_text : icon_1_text
    timing_1 : timing_1
    timing_1_text : timing_1_text
    last_hint : last_hint
    mental :mental
    game_over : game_over
    text1 : text1
    mdcard : mdcard

    FloatLayout:
        Screen:
            id: mainpic
            canvas.before:
                Rectangle:
                    source: "assets/images/hills.jpg"
                    pos: self.pos
                    size:self.size
        MDBoxLayout:
            orientation:'vertical'
            spacing:'12dp'
            MDBoxLayout:
                adaptive_height:True
                padding:'18dp'
                MDCard:
                    id: card
                    size_hint: None, None
                    size: root.width-dp(25), '135dp'
                    line_color: [1, 1, 1, 1]
                    orientation:'vertical'
                    line_width : '1.8dp'
                    md_bg_color: [0,0,0,0.6]
                    pos_hint: {'center_x': 0.5}
                    elevation : 15
                    RelativeLayout
                    Label:
                        size_hint: None, None
                        size:self.texture_size
                        pos_hint: {'center_x': 0.5, }
                        text: "T H E"
                        font_size: '20sp'
                        bold: True
                    RelativeLayout
                    Label:
                        id:mental
                        size_hint: None, None
                        size:self.texture_size
                        pos_hint: {'center_x': 0.5,}
                        text: "Mental Math"
                        font_size: '45sp'
                        bold: True
                        underline: True
                    RelativeLayout
                    Label:
                        size_hint: None, None
                        size:self.texture_size
                        pos_hint: {'center_x': 0.5}
                        text: "-  D O J O  -"
                        color: (248/255, 181/255, 12/255, 1)
                        font_size: '25sp'
                        bold: True
                    RelativeLayout
            MDBoxLayout:
                spacing:'12dp'
                padding:'12dp'
                adaptive_size:True
                pos_hint:{'center_x':.5}
                MDFillRoundFlatIconButton:
                    id: setting
                    md_bg_color: 0,0/255,0,1
                    pos_hint:{'center_y':.5}
                    icon: "ninja"
                    icon_size: '40sp'
                    line_color: 1,1,1,1
                    line_width : 2
                    icon_color: 1,188/255,0,1
                    text: "S C O R E S"
                    text_color: 0,1,0,1
                    on_release:
                        root.popup_animate()

                MDCard:
                    id: card_two
                    size_hint: None, None
                    size: '100dp', '55dp'
                    line_color: [1, 1, 1, 1]
                    line_width: '1.5dp'
                    pos_hint:{'center_y':.5}
                    md_bg_color: [0,0,0,0.5]
                    MDBoxLayout:
                        orientation: "vertical"
                        size: '120dp', '55dp'
                        RelativeLayout
                        MDCheckbox:
                            active: True
                            ripple_scale: 1
                            icon_size: "100dp", "100dp"
                            selected_color: [0,1,0,1]
                            on_active: root.on_checkbox_active(*args)
                        RelativeLayout
                        Label:
                            size_hint: None,None
                            size:self.texture_size
                            pos_hint:{"center_x":.5}
                            id: sound_label
                            text: "SOUND"
                            bold: True
                            font_size: sp(15)
                            color: (1, 1, 1, 0.7)
                        RelativeLayout

            MDSwiper:
                id: swipeset
#                md_bg_color:1,0,0,1
#                size_hint_y: 1.4
#                height: card.pos[1] - dp(110)
#                height: card.pos[1] - dp(170)
#                y: root.height - self.height - dp(310)
                MySwiper:
                    RelativeLayout:
                        FitImage:
                            source: "assets/images/black.jpg"
                            opacity: 0.5
                            radius: [20,]

                        MDIconButton:
                            icon: "karate"
                            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
                            icon_size: "170dp"
                            opacity: 0.1
                            on_release:
                                root.rule_button()

                        MDCard:
                            id: rule_card
                            the_x: 0.5
                            the_y : 0.5
                            pos_hint: {'center_x': self.the_x, 'center_y': self.the_y}
                            md_bg_color: 0,0,0,1
                            size_hint: None, None
                            size: '160dp', '42dp'
                            RelativeLayout:
                                Label:
                                    text: "Our Dojo Rules?"
                                    font_size: '20sp'
                                    color: (248/255, 181/255, 12/255, 1)
                                    bold: True
                                    underline: True
                                Button:
                                    id: the_swipe_button
                                    size_hint: 1,1
                                    text: "Click"
                                    opacity: 0
                                    on_release:
                                        root.rule_button()


                        MDFloatingActionButton:
                            icon: 'checkbox-marked-circle-plus-outline'
                            id: icon_1
                            opacity : 1
                            size_hint: 0.3, 0.14
                            #size: 5
                            #pos: card_two.pos[0], card_two.pos[1] - 65
                            pos_hint: {'center_x': 0.5, 'center_y': 0.7}
                #            md_bg_color: (248/255, 181/255, 12/255, 1)
                            md_bg_color: (214/255, 245/255, 252/255, 1)
                            icon_color: [0, 0, 0,1]

                        Label:
                            id: icon_1_text
                            pos_hint: {'center_x': 0.5, 'center_y': 0.58}
                            text: "Answer / Skip Question"
                            font_size: '15sp'
                            font_color: (248/255, 181/255, 12/255, 1)

                        Label:
                            id: timing_1
                            pos_hint: {'center_x': 0.5, 'center_y': 0.44}
                            text: "1 min."
                            font_size: '30sp'
                            color: (248/255, 105/255, 0/255, 1)

                        Label:
                            id: timing_1_text
                            pos_hint: {'center_x': 0.5, 'center_y': 0.38}
                            text: "per game"
                            font_size: '15sp'
                            font_color: (248/255, 181/255, 12/255, 1)

                        Label:
                            id: last_hint
                            pos_hint: {'center_x': 0.5, 'center_y': 0.2}
                            halign : "center"
                            markup: True
                            text: "[i]Higher your Streak,[/i]\n [b]Harder the Questions [/b]"
                            font_size: '15sp'
                            font_color: (248/255, 181/255, 12/255, 1)

                MySwiper:
                    id: add
                    RelativeLayout:
                        FitImage:
                            source: "assets/images/PLUSPLUS.jpg"
                            radius: [20,]

                        Button:
                            opacity: 0
                            text: "Click"
                            size_hint: 1,1
                            #size_hint: None, None

                            #size: 670,600
                            pos_hint: {'center_x': 0.5, 'center_y':0.5}
                            user_font_size:"58sp"
                            opposite_color: True
                            on_release:
                                root.manager.push("addition")
                                root.manager.transition.direction = "up"


                MySwiper:
                    RelativeLayout:
                        FitImage:
                            source: "assets/images/SUB.jpg"
                            radius: [20,]

                        Button:
                            opacity: 0
                            text: "Click"
                            #size_hint: 1,1
                            size_hint: 1, 1
                            #size: 670,600
                            pos_hint: {'center_x': 0.5, 'center_y':0.5}
                            user_font_size:"58sp"
                            opposite_color: True
                            on_release:
                                print("Hello")
                                #root.animate()
                                root.manager.push("subtraction")
                                root.manager.transition.direction = "up"

                MySwiper:
                    RelativeLayout:
                        FitImage:
                            source: "assets/images/COMBINE.jpg"
                            radius: [20,]

                        Button:
                            opacity: 0
                            text: "Click"
                            #size_hint: 1,1
                            size_hint: 1, 1
                            pos_hint: {'center_x': 0.5, 'center_y':0.5}
                            user_font_size:"58sp"
                            opposite_color: True
                            on_release:
                                print("Hello")
                                #root.animate()
                                root.manager.push( "combine")
                                root.manager.transition.direction = "up"

                MySwiper:
                    RelativeLayout:
                        FitImage:
                            source: "assets/images/percent.jpg"
                            radius: [20,]

                        Button:
                            opacity: 0
                            text: "Click"
                            #size_hint: 1,1
                            size_hint: 1, 1
                            pos_hint: {'center_x': 0.5, 'center_y':0.5}
                            user_font_size:"58sp"
                            opposite_color: True
                            on_release:
                                print("Hello")
                                #root.animate()
                                root.manager.push("percent")
                                root.manager.transition.direction = "up"
            MDBoxLayout:
                size_hint_y:None
                height:'12dp'
        SlidingPopup:
            id: pipup
            opacity: 0
            disable: True
            size_hint : 0.8, 0.8
            top_hint: 0.3
            my_x_hint: -0.5
            pos_hint: {"center_x": self.my_x_hint, "center_y": 0.5}
            do_default_tab: False
            canvas:
                Color:
                    rgb: 0,0,0,1
                Rectangle:
                    id: rectangle
                    pos: self.pos
                    size: self.size
                Color:
                    rgba: 1, 0.9, 1, 1
                Line:
                    width: 2
                    rectangle: self.x, self.y, self.width, self.height


            MDFloatingActionButton:
                icon: "close"
                pos_hint: {'center_x': 0.5, 'center_y': 1}
                md_bg_color: 0,0,0,1
                user_font_size: "24sp"
                line_color: (248/255, 181/255, 12/255, 1)
                line_width: 2
                on_press:
                on_press:
                    root.popup_out()

            Label:
                id: main_label
                text: "Hello, Friend!"
                font_size: sp(30)
                color: (1, 1, 1, 1)
                pos_hint: {'center_x': 0.5, 'center_y': 0.9}

            Label:
                id: sub_label
                text: "HE HE"
                halign: 'center'
                italic: True
                font_size: '12sp'
                color: (39/255, 245/255, 242/255, 1)
                pos: main_label.pos[0], main_label.pos[1] - dp(38)

            ScrollView:
                size_hint_y: 0.75
                scroll_distance: dp(10)
                pos_hint: {'x':0, 'y':0.02}
                do_scroll_x : False
                do_scroll_y : True
                bar_color: (39/255, 245/255, 242/255, 1)
                bar_margin: dp(4)
                bar_width: dp(3)

                GridLayout:
                    #size: (pipup.width, root.height + 600)
                    #size: (pipup.width, root.height + 1280)
                    size: (pipup.width, root.height + dp(1600))
                    size_hint_x: None
                    size_hint_y : None
                    cols: 1
                    row_default_height: dp(360)
#                    row_default_height: 330

                    FloatLayout:
                        Image:
                            id: back_image
                            allow_stretch: True
                            keep_ratio:False
                            source: "assets/images/bck.jpg"
                            pos_hint : {'center_x': 0.5, 'center_y' : 0.62}
#                            size_hint: None, None
#                            size: dp(1920/3.3), dp(1080/3.3)
                            color: [50/255, 50/255, 50/255]
                            #color: [255/255, 255/255, 255/255]
                            opacity: 1

                        Image:
                            id: monk_img
                            source: "assets/images/monk.png"
                            allow_stretch: True
                            my_x: 0.25
                            my_y : 0.55
                            pos_hint : {'center_x': self.my_x, 'center_y' : self.my_y}
                            #size_hint_x: 1
                            opacity: 1
                            #color: [225/255, 225/255, 225/255]
                            color: [50/255, 50/255, 50/255]

                        MDCard:
                            id: mdcard
                            size_hint: None, None
                            size: '100dp', '270dp'
                            line_color: [0, 0, 0, 1]
                            md_bg_color: [0,0,0,0.3]
                            pos_hint: {'center_x': 0.7, 'center_y': 0.6}

                        Label:
                            id: text1
                            pos_hint : {'center_x': 0.7, 'center_y' : 0.85}
                            text: "Improvement\nLevel:"
                            halign: "center"
                            font_size: dp(15)
                            bold: True

                        Label:
                            id: percent_text_input
                            opacity: 1
                            my_x : 0.7
                            my_y : 0.7
                            pos_hint : {'center_x': self.my_x, 'center_y' : self.my_y}
                            color: (39/255, 245/255, 242/255, 1)
                            text: "0%"
                            font_size: '44sp'
                            bold: True

                        MDFillRoundFlatButton:
                            id: update_button
                            text: "UPDATE"
                            pos_hint: {'center_x': 0.7, 'center_y' : 0.5}
                            font_size: dp(15)
                            md_bg_color: 1,0,0,1
                            line_color: 1,1,1,1
                            line_width: dp(1.3)
                            on_release:
                                root.glow_up()
                                root.unlock = True
                                root.ending()
                                root.off()

                        Label:
                            id: game_over
                            markup: True
                            opacity: 0
                            text: "That's all! Congrats."
                            color: (255/255, 255/255, 255/255, 1)
                            pos_hint: {'center_x': 0.5, 'center_y': 0.94}
                            font_size: sp(15)
                            halign: "center"
                            bold: True

                        Label:
                            id: no_of_games
                            text: "Play 10\ngames!"
                            halign: "center"
                            opacity: 0
                            pos_hint: {'center_x': 0.7, 'center_y' : 0.35}
                            font_size: '15sp'

                    FloatLayout:
                        Label:
                            markup: True
                            pos_hint : {'center_x': 0.5, 'center_y' : 0.95}
                            text: "[size=20][color=00FFFF] Improvement Percent [/color][/size]\nis calculated based on your \n improved performance in all the\n games"
                            halign: "center"
                            #font_size: dp(15)
                            size_hint_x:1
                            bold: True

                        Label:
                            markup: True
                            pos_hint : {'center_x': 0.5, 'center_y' : 0.55}
                            text: "[color=00FFFF]\n Higher Scores\n+\n Larger Streaks\n+\nLesser Time\n[/color][size=20]\n[b]= Improvement[/size]\n"
                            halign: "center"
                            #font_size: dp(14)
                            size_hint_x:1

                        Label:
                            markup: True
                            pos_hint : {'center_x': 0.5, 'center_y' : 0.19}
                            text: "\nBy the end of your training \nyou'll become a math whiz,\n[i] guaranteed.[i]"
                            halign: "center"
                            #font_size: dp(11)
                            size_hint_x:1

                    FloatLayout:
                        canvas:
                            Color:
                                rgb: 44/255, 0/255, 0/255, 1
                            Rectangle:
                                id: rectangle
                                pos : self.pos[0] + dp(10), self.pos[1]
                                size : self.size[0]- dp(20), self.size[1]

                        Label:
                            id: the_addition_label
                            text: " -A D D I T I O N-"
                            pos_hint: {'center_x': 0.5, "center_y" : 0.9}
                            color: (248/255, 181/255, 12/255, 1)
                            font_size: dp(22)
                        Label:
                            pos_hint : {'center_x': 0.3, 'center_y' : 0.7}
                            text: "Highest\nScore:"
                            halign: "right"
                            font_size: dp(15)
                            bold: True

                        Label:
                            id: addition_score_input
                            pos_hint : {'center_x': 0.68, 'center_y' : 0.7}
                            text: "--"
                            color: (73/255, 206/255, 23/255, 1)
                            font_size: dp(33)
                            bold: True

                        Label:
                            id: text2
                            pos_hint : {'center_x': 0.3, 'center_y' : 0.44}
                            text: "Highest\nStreak:"
                            halign : "right"
                            font_size: dp(15)
                            bold: True

                        Label:
                            id: addition_streak_input
                            pos_hint : {'center_x': 0.68, 'center_y' : 0.44}
                            color: (73/255, 206/255, 23/255, 1)
                            text: "--"
                            font_size: dp(33)
                            bold: True

                        Label:
                            id: text3
                            pos_hint : {'center_x': 0.27, 'center_y' : 0.2}
                            text: "Least Time\nper question\n(seconds):"
                            halign: "right"
                            font_size: dp(15)
                            bold: True

                        Label:
                            id: addition_time_input
                            pos_hint : {'center_x': 0.68, 'center_y' : 0.2}
                            text: "--"
                            color: (73/255, 206/255, 23/255, 1)
                            font_size: dp(33)
                            bold: True

                    FloatLayout:
                        Label:
                            text: " - S U B T R A C T I O N -"
                            pos_hint: {'center_x': 0.5, "center_y" : 0.9}
                            color: (248/255, 181/255, 12/255, 1)
                            font_size: dp(22)

                        Label:
                            pos_hint : {'center_x': 0.3, 'center_y' : 0.7}
                            text: "Highest\nScore:"
                            halign: "right"
                            font_size: dp(15)
                            bold: True

                        Label:
                            id: subtraction_score_input
                            pos_hint : {'center_x': 0.7, 'center_y' : 0.7}
                            text: "--"
                            color: (255/255, 121/255, 4/255, 1)
                            font_size: dp(33)
                            bold: True

                        Label:
                            pos_hint : {'center_x': 0.3, 'center_y' : 0.44}
                            text: "Highest\nStreak:"
                            halign : "right"
                            font_size: dp(15)
                            bold: True

                        Label:
                            id: subtraction_streak_input
                            pos_hint : {'center_x': 0.7, 'center_y' : 0.44}
                            text: "--"
                            color: (255/255, 121/255, 4/255, 1)
                            font_size: dp(33)
                            bold: True

                        Label:
                            pos_hint : {'center_x': 0.27, 'center_y' : 0.2}
                            text: "Least Time\nper question\n(seconds):"
                            halign: "right"
                            font_size: dp(15)
                            bold: True

                        Label:
                            id: subtraction_time_input
                            pos_hint : {'center_x': 0.72, 'center_y' : 0.2}
                            text: "--"
                            color: (255/255, 121/255, 4/255, 1)
                            font_size: dp(33)
                            bold: True

                    FloatLayout:
                        canvas:
                            Color:
                                rgb: 29/255, 2/255, 74/255, 1
                            Rectangle:
                                id: rectangle
                                pos : self.pos[0] + 10, self.pos[1] + 10
                                size : self.size[0]- 20, self.size[1] -10
                        Label:
                            text: " - C O M B I N E D -"
                            pos_hint: {'center_x': 0.5, "center_y" : 0.9}
                            color: (248/255, 181/255, 12/255, 1)
                            font_size: dp(22)

                        Label:
                            pos_hint : {'center_x': 0.3, 'center_y' : 0.7}
                            text: "Highest\nScore:"
                            halign: "right"
                            font_size: dp(15)
                            bold: True

                        Label:
                            id: combined_score_input
                            pos_hint : {'center_x': 0.7, 'center_y' : 0.7}
                            text: "--"
                            color: (255/255, 201/255, 4/255, 1)
                            font_size: dp(33)
                            bold: True

                        Label:
                            pos_hint : {'center_x': 0.3, 'center_y' : 0.44}
                            text: "Highest\nStreak:"
                            halign : "right"
                            font_size: dp(15)
                            bold: True

                        Label:
                            id: combined_streak_input
                            pos_hint : {'center_x': 0.7, 'center_y' : 0.44}
                            text: "--"
                            color: (255/255, 201/255, 4/255, 1)
                            font_size: dp(33)
                            bold: True

                        Label:
                            pos_hint : {'center_x': 0.27, 'center_y' : 0.2}
                            text: "Least Time\nper question\n(seconds):"
                            halign: "right"
                            font_size: dp(15)
                            bold: True

                        Label:
                            id: combined_time_input
                            pos_hint : {'center_x': 0.72, 'center_y' : 0.2}
                            text: "--"
                            color: (255/255, 201/255, 4/255, 1)
                            font_size: dp(33)
                            bold: True

                    FloatLayout:
                        Label:
                            text: "- P E R C E N T A G E -"
                            pos_hint: {'center_x': 0.5, "center_y" : 0.9}
                            color: (248/255, 181/255, 12/255, 1)
                            font_size: dp(22)

                        Label:
                            pos_hint : {'center_x': 0.3, 'center_y' : 0.7}
                            text: "Highest\nScore:"
                            halign: "right"
                            font_size: dp(15)
                            bold: True

                        Label:
                            id: percentage_score_input
                            pos_hint : {'center_x': 0.7, 'center_y' : 0.7}
                            text: "--"
                            color: (255/255, 201/255, 4/255, 1)
                            font_size: dp(33)
                            bold: True

                        Label:
                            pos_hint : {'center_x': 0.3, 'center_y' : 0.44}
                            text: "Highest\nStreak:"
                            halign : "right"
                            font_size: dp(15)
                            bold: True

                        Label:
                            id: percentage_streak_input
                            pos_hint : {'center_x': 0.7, 'center_y' : 0.44}
                            text: "--"
                            color: (255/255, 201/255, 4/255, 1)
                            font_size: dp(33)
                            bold: True

                        Label:
                            pos_hint : {'center_x': 0.27, 'center_y' : 0.2}
                            text: "Least Time\nper question\n(seconds):"
                            halign: "right"
                            font_size: dp(15)
                            bold: True

                        Label:
                            id: percentage_time_input
                            pos_hint : {'center_x': 0.72, 'center_y' : 0.2}
                            text: "--"
                            color: (255/255, 201/255, 4/255, 1)
                            font_size: dp(33)
                            bold: True

<SlidingPopup@FloatLayout>:
    canvas.before:
        Color:
            rgb: 1,1,1,0


<MySwiper@MDSwiperItem>
